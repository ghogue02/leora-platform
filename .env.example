# Leora Platform - Environment Variables Template
# Copy this file to .env.local and fill in the values

# ============================================================================
# DATABASE & PRISMA
# ============================================================================

# Primary database connection (use pooled connection for serverless)
DATABASE_URL="postgresql://postgres.zqezunzlyjkseugujkrl:UHXGhJvhEPRGpL06@aws-0-us-east-2.pooler.supabase.com:6543/postgres?sslmode=require"

# Direct connection for migrations and schema operations
DIRECT_URL="postgresql://postgres:UHXGhJvhEPRGpL06@db.zqezunzlyjkseugujkrl.supabase.co:5432/postgres?sslmode=require"

# Shadow database for safe migrations (optional, create dedicated DB)
# SHADOW_DATABASE_URL=""

# Control Prisma auto-generation during installs
PRISMA_GENERATE_SKIP_POSTINSTALL=false

# ============================================================================
# SUPABASE CREDENTIALS
# ============================================================================

# Supabase project reference
NEXT_PUBLIC_SUPABASE_URL="https://zqezunzlyjkseugujkrl.supabase.co"

# Supabase anonymous key (safe for client-side)
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpxZXp1bnpseWprc2V1Z3Vqa3JsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzNTM5NTksImV4cCI6MjA3NDkyOTk1OX0.rXBCwiqvmsmz09HxKbG2fOrKPpq9JnpVWgG-cnXVZfQ"

# Supabase service role key (NEVER expose client-side)
# SUPABASE_SERVICE_ROLE_KEY=""

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

# JWT secret for access/refresh tokens (generate: openssl rand -base64 32)
JWT_SECRET="REPLACE_WITH_SECURE_32_CHAR_SECRET"

# JWT expiration times
JWT_ACCESS_EXPIRY="15m"
JWT_REFRESH_EXPIRY="7d"

# Session configuration
SESSION_MAX_AGE=604800
SESSION_COOKIE_NAME="leora_session"

# Domain for auto-provisioned demo portal users
PORTAL_USER_EMAIL_DOMAIN="example.dev"

# NextAuth configuration (when implemented)
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="REPLACE_WITH_NEXTAUTH_SECRET"

# ============================================================================
# TENANT & DEMO DEFAULTS
# ============================================================================

# Default tenant for requests without tenant headers
DEFAULT_TENANT_SLUG="well-crafted"

# Auto-provision key for demo portal users
DEFAULT_PORTAL_USER_KEY="dev-portal-user"

# Client-side tenant defaults (optional)
NEXT_PUBLIC_DEFAULT_TENANT_SLUG="well-crafted"
# NEXT_PUBLIC_DEFAULT_PORTAL_USER_ID=""
# NEXT_PUBLIC_DEFAULT_PORTAL_USER_EMAIL=""

# Demo sales rep defaults (optional)
# NEXT_PUBLIC_DEMO_SALES_REP_ID=""
# NEXT_PUBLIC_DEMO_SALES_REP_NAME=""

# ============================================================================
# AI & EXTERNAL MODELS
# ============================================================================

# OpenAI API key for Leora AI Copilot (GPT-5)
# NEVER expose client-side - server-side only
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-proj-YOUR_OPENAI_API_KEY_HERE"

# OpenAI model configuration
OPENAI_MODEL="gpt-4-turbo-preview"
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# ============================================================================
# ANALYTICS & MONITORING (Future)
# ============================================================================

# Sentry error tracking
# SENTRY_DSN=""
# SENTRY_ORG=""
# SENTRY_PROJECT=""

# PostHog product analytics
# POSTHOG_API_KEY=""
# NEXT_PUBLIC_POSTHOG_KEY=""
# NEXT_PUBLIC_POSTHOG_HOST=""

# ============================================================================
# EMAIL & NOTIFICATIONS (Future)
# ============================================================================

# Resend email service
# RESEND_API_KEY=""
# RESEND_FROM_EMAIL="noreply@leora.app"

# ============================================================================
# PAYMENTS & BILLING (Future)
# ============================================================================

# Stripe payment processing
# STRIPE_SECRET_KEY=""
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=""
# STRIPE_WEBHOOK_SECRET=""

# ============================================================================
# FEATURE FLAGS & CONFIGURATION
# ============================================================================

# Node environment
NODE_ENV="development"

# Enable debug logging
DEBUG="false"

# Enable experimental features
ENABLE_EXPERIMENTAL_FEATURES="false"

# ============================================================================
# DEVELOPMENT & TOOLING
# ============================================================================

# Local development port
PORT=3000

# Disable Next.js telemetry
NEXT_TELEMETRY_DISABLED=1

# ============================================================================
# USAGE NOTES
# ============================================================================
#
# 1. Copy this file to .env.local:
#    cp .env.example .env.local
#
# 2. Generate secure secrets:
#    JWT_SECRET: openssl rand -base64 32
#    NEXTAUTH_SECRET: openssl rand -base64 32
#
# 3. Update Vercel environment variables:
#    vercel env add DATABASE_URL production
#    vercel env add JWT_SECRET production
#    vercel env add OPENAI_API_KEY production
#
# 4. Never commit .env.local to version control
#
# 5. Keep Supabase credentials unchanged unless rotated
#
# ============================================================================
